{
  "info": {
    "name": "Admin Booking Management APIs",
    "_postman_id": "admin-booking-apis",
    "description": "Complete collection of admin booking management endpoints for WorkSure Backend",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api/admin",
      "type": "string"
    },
    {
      "key": "authToken",
      "value": "your_admin_auth_token_here",
      "type": "string"
    },
    {
      "key": "bookingId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Get All Bookings",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{authToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/bookings?page=1&limit=10&status=pending&paymentStatus=paid&search=John&sortBy=created_at&sortOrder=desc",
          "host": ["{{baseUrl}}"],
          "path": ["bookings"],
          "query": [
            {
              "key": "page",
              "value": "1",
              "description": "Page number (default: 1)"
            },
            {
              "key": "limit",
              "value": "10",
              "description": "Items per page (default: 10)"
            },
            {
              "key": "status",
              "value": "pending",
              "description": "Filter by status",
              "disabled": true
            },
            {
              "key": "paymentStatus",
              "value": "paid",
              "description": "Filter by payment status (paid/unpaid)",
              "disabled": true
            },
            {
              "key": "search",
              "value": "John",
              "description": "Search by booking ID, user, or worker name",
              "disabled": true
            },
            {
              "key": "startDate",
              "value": "2026-01-01T00:00:00Z",
              "description": "Filter from date",
              "disabled": true
            },
            {
              "key": "endDate",
              "value": "2026-01-31T23:59:59Z",
              "description": "Filter until date",
              "disabled": true
            },
            {
              "key": "sortBy",
              "value": "created_at",
              "description": "Sort field (created_at, total_amount, status)"
            },
            {
              "key": "sortOrder",
              "value": "desc",
              "description": "Sort order (asc/desc)"
            }
          ]
        },
        "description": "Get paginated list of all bookings with optional filters"
      }
    },
    {
      "name": "Get Booking Statistics",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{authToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/bookings/stats?startDate=2026-01-01&endDate=2026-01-31",
          "host": ["{{baseUrl}}"],
          "path": ["bookings", "stats"],
          "query": [
            {
              "key": "startDate",
              "value": "2026-01-01",
              "description": "Filter from date",
              "disabled": true
            },
            {
              "key": "endDate",
              "value": "2026-01-31",
              "description": "Filter until date",
              "disabled": true
            }
          ]
        },
        "description": "Get booking statistics including counts by status and revenue"
      }
    },
    {
      "name": "Export Bookings (JSON)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{authToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/bookings/export?format=json&status=completed",
          "host": ["{{baseUrl}}"],
          "path": ["bookings", "export"],
          "query": [
            {
              "key": "format",
              "value": "json",
              "description": "Export format (json/csv)"
            },
            {
              "key": "status",
              "value": "completed",
              "description": "Filter by status",
              "disabled": true
            },
            {
              "key": "paymentStatus",
              "value": "paid",
              "description": "Filter by payment status",
              "disabled": true
            },
            {
              "key": "startDate",
              "value": "2026-01-01",
              "disabled": true
            },
            {
              "key": "endDate",
              "value": "2026-01-31",
              "disabled": true
            }
          ]
        },
        "description": "Export bookings data as JSON or CSV"
      }
    },
    {
      "name": "Export Bookings (CSV)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{authToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/bookings/export?format=csv",
          "host": ["{{baseUrl}}"],
          "path": ["bookings", "export"],
          "query": [
            {
              "key": "format",
              "value": "csv"
            }
          ]
        },
        "description": "Export bookings data as CSV file"
      }
    },
    {
      "name": "Get Booking by ID",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{authToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/bookings/{{bookingId}}",
          "host": ["{{baseUrl}}"],
          "path": ["bookings", "{{bookingId}}"]
        },
        "description": "Get detailed information about a specific booking"
      }
    },
    {
      "name": "Update Booking Status",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{authToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"status\": \"accepted\",\n  \"reason\": \"Optional reason for status change\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/bookings/{{bookingId}}/status",
          "host": ["{{baseUrl}}"],
          "path": ["bookings", "{{bookingId}}", "status"]
        },
        "description": "Update the status of a booking. Valid statuses: pending, accepted, in_progress, completed, cancelled, disputed, awaiting"
      }
    },
    {
      "name": "Assign Worker to Booking",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{authToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"workerId\": \"worker-uuid-here\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/bookings/{{bookingId}}/assign-worker",
          "host": ["{{baseUrl}}"],
          "path": ["bookings", "{{bookingId}}", "assign-worker"]
        },
        "description": "Assign or reassign a worker to a booking"
      }
    },
    {
      "name": "Cancel Booking",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{authToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"reason\": \"Customer requested cancellation\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/bookings/{{bookingId}}/cancel",
          "host": ["{{baseUrl}}"],
          "path": ["bookings", "{{bookingId}}", "cancel"]
        },
        "description": "Cancel a booking with a reason. Cannot cancel completed bookings."
      }
    },
    {
      "name": "Process Refund (Full)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{authToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"refundReason\": \"Service quality issue\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/bookings/{{bookingId}}/refund",
          "host": ["{{baseUrl}}"],
          "path": ["bookings", "{{bookingId}}", "refund"]
        },
        "description": "Process a full refund for a booking"
      }
    },
    {
      "name": "Process Refund (Partial)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{authToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"refundAmount\": 50.00,\n  \"refundReason\": \"Partial refund for service delay\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/bookings/{{bookingId}}/refund",
          "host": ["{{baseUrl}}"],
          "path": ["bookings", "{{bookingId}}", "refund"]
        },
        "description": "Process a partial refund for a booking"
      }
    },
    {
      "name": "Update Admin Notes",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{authToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"notes\": \"Customer called to reschedule. Follow up needed.\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/bookings/{{bookingId}}/notes",
          "host": ["{{baseUrl}}"],
          "path": ["bookings", "{{bookingId}}", "notes"]
        },
        "description": "Update admin notes for internal tracking"
      }
    }
  ]
}
